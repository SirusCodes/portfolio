---
const data = [
	{ name: "Home", link: "#home" },
	{ name: "About Me", link: "#about" },
	{ name: "Experience", link: "#experience" },
	{ name: "Projects", link: "#projects" },
	{ name: "Talks", link: "#talks" },
	{ name: "Chat", link: "/chat" },
	{ name: "Blog", target: "_blank", link: "https://blog.darshanrander.com" },
	{ name: "Résumé", link: "/resume-darshan-rander.pdf" }
];
---

<nav class="navbar">
	<ul class="navbar-list">
		{
			data.map((item, index) => (
				<li>
					<a
						href={item.link}
						target={item.target}
						style={`--animation-pos:${index + 1};`}
					>
						{item.name}
					</a>
				</li>
			))
		}
	</ul>
</nav>

<script>
	import { $isNavOpen } from "../stores";
	const navbar = document.querySelector(".navbar-list")!;

	$isNavOpen.subscribe((value) => {
		if (value) {
			navbar.classList.add("open");
		} else {
			navbar.classList.remove("open");
		}
	});
</script>

<style>
	.navbar {
		width: 20%;
	}

	.navbar-list {
		position: fixed;
		right: 0;
		top: 0;
		bottom: 0;
		list-style: none;
		padding: 10px;
		width: 10%;
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: flex-end;
	}

	.navbar li a {
		font-size: 1.2vw;
		display: block;
		text-decoration: none;
		transform: translateX(10vw);
		transition:
			transform 0.3s ease-in,
			color 0.2s ease-in;
		animation: 1s ease-in 1 slide forwards;
		animation-delay: calc(var(--animation-pos) * 100ms);
	}

	@media screen and (max-width: 900px) {
		.navbar-list {
			z-index: 1;
			background-color: rgb(19, 19, 19);
			top: auto;
			bottom: 7vh;
			width: 100%;
			justify-content: end;
			align-items: center;
			color: white;
			margin: 0;
			transform: translateY(60vh);
		}

		.navbar li a {
			width: 100%;
			font-size: 3vh;
			padding: 10% 0;
			display: block;
			text-decoration: none;
			color: white;
			transform: none;
		}

		.navbar-list.open {
			transform: translateY(60vh);
			animation: 0.8s ease-in 1 slide forwards;
		}

		.nav-bar li a:hover {
			color: white;
			transform: none;
		}
	}
</style>
